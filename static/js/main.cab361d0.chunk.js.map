{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","utils/api.js","utils/auth.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/AddPlacePopup.js","components/EditAvatarPopup.js","components/DeleteCardPopup.js","components/PopupClose.js","components/ProtectedRoute.js","components/Register.js","components/Login.js","components/InfoTooltip.js","images/check.svg","images/error.svg","components/App.js","reportWebVitals.js","index.js"],"names":["Header","headerMail","signOut","React","useState","isMenuClick","setMenuClick","handleMenuClick","className","src","headerLogo","alt","exact","path","onClick","to","CurrentUserContext","createContext","Card","_id","link","name","likes","owner","onCardClick","onCardLike","onCardDelete","currentUser","useContext","card","isOwn","isLiked","some","i","cardDeleteButtonClassName","cardLikeButtonClassName","type","length","Main","onEditProfile","onAddPlace","onEditAvatar","cards","style","backgroundImage","avatar","about","map","props","Footer","ImagePopup","isOpen","onClose","title","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","status","fetch","method","body","JSON","stringify","then","_getResponseData","cardId","authorization","BASE_URL","checkResponse","checkToken","token","PopupWithForm","buttonTitle","children","onSubmit","noValidate","EditProfilePopup","onUpdateUser","isLoading","setName","description","setDescription","submitButton","useEffect","event","preventDefault","value","onChange","target","id","autoComplete","placeholder","minLength","maxLength","required","AddPlacePopup","setLink","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","DeleteCardPopup","PopupClose","rest","pushKey","key","closeOverlay","classList","contains","document","addEventListener","removeEventListener","cloneElement","ProtectedRoute","Component","component","loggedId","Register","handleRegister","email","setEmail","password","setPassword","handleChange","console","log","Login","handleLogin","InfoTooltip","icon","App","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoading","isDeleteCardPopupOpen","setDeleteCardPopupOpen","cardDelete","setCardDelete","history","useHistory","isInfoTooltipOpen","setInfoTooltipOpen","setLoggedId","userData","setUserData","dataInfoTool","setDataInfoTool","handleInfoTooltipClick","closeAllPopups","localStorage","getItem","auth","data","push","errorLogo","catch","error","handleCheckToken","promises","getUserInfo","getInitialCards","all","user","Provider","removeItem","deleteLike","newCard","newCards","c","checkLogo","setItem","editProfile","result","addNewCard","editAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.cab361d0.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.c2821b38.svg\";","import React from 'react';\r\nimport { Route, Link } from 'react-router-dom';\r\nimport headerLogo from '../images/header-logo.svg';\r\n\r\nfunction Header({ headerMail, signOut }) {\r\n    const [isMenuClick, setMenuClick] = React.useState(false);\r\n\r\n    function handleMenuClick() {\r\n        setMenuClick(!isMenuClick);\r\n    }\r\n\r\n    return (\r\n        <header className=\"header\">\r\n            <div className={`header__menu ${isMenuClick ? \"header__menu_box-nav\" : \"\"}`}>\r\n                <img className={`header__logo ${isMenuClick ? \"header__logo_box-menu\" : \"\"}`} src={headerLogo} alt=\"Лого Место\" />\r\n                    <Route exact path=\"/\">\r\n                        <div className={`header__button-menu ${isMenuClick ? \"header__button-menu_close\" : \"\"}`} onClick={handleMenuClick}>\r\n                            <span></span>\r\n                            <span></span>\r\n                            <span></span>\r\n                        </div>\r\n                        <div className={`header__info ${isMenuClick ? \"header__info_box-menu\" : \"\"}`}>\r\n                            <p className=\"header__mail\">{headerMail}</p>\r\n                            <Link to=\"/sign-in\" className=\"header__out\" onClick={() => {\r\n                                signOut();\r\n                                handleMenuClick();\r\n                            }}>Выйти</Link>\r\n                        </div>\r\n                    </Route>\r\n\r\n                    <Route path=\"/sign-in\">\r\n                        <div className=\"header__sign-block\">\r\n                            <Link to=\"/sign-up\" className=\"header__sign\">Регистрация</Link>\r\n                        </div>\r\n                    </Route>\r\n\r\n                    <Route path=\"/sign-up\">\r\n                        <div className=\"header__sign-block\">\r\n                            <Link to=\"/sign-in\" className=\"header__sign\">Войти</Link>\r\n                        </div>\r\n                    </Route>\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nexport const CurrentUserContext = React.createContext();\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({ _id, link, name, likes, owner,  onCardClick, onCardLike, onCardDelete }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    const card = {\r\n        _id: _id,\r\n        link: link,\r\n        name: name,\r\n        owner: owner,\r\n        likes: likes,\r\n    };\r\n\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n    const cardDeleteButtonClassName = `element__trash ${isOwn ? '' : 'element__trash_hidden'}`;\r\n    const cardLikeButtonClassName = `element__like ${isLiked ? 'element__like_active' : ''}`;\r\n\r\n    function handleClick() {\r\n        onCardClick({\r\n            link: link,\r\n            name: name,\r\n        });\r\n    }\r\n\r\n    function handleLikeClick() {\r\n        onCardLike(card);\r\n    }\r\n\r\n    function handleDeleteClick() {\r\n        onCardDelete(card);\r\n    }\r\n\r\n    return (\r\n        <li className=\"element\">\r\n            <button onClick={handleDeleteClick} className={cardDeleteButtonClassName} type=\"button\"></button>\r\n            <img className=\"element__image\" src={link} alt={name} onClick={handleClick} />\r\n            <div className=\"element__description\">\r\n                <h2 className=\"element__title\">{name}</h2>\r\n                <div className=\"element__likes\">\r\n                    <button onClick={handleLikeClick} className={cardLikeButtonClassName} type=\"button\"></button>\r\n                    <p className=\"element__likes-number\">{likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default Card;\r\n","import React from 'react';\r\nimport Card from './Card.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction Main({ onEditProfile, onAddPlace, onEditAvatar, onCardClick, cards, onCardLike, onCardDelete }) {\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"content\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__avatar\" onClick={onEditAvatar} style={{ backgroundImage: `url(${currentUser.avatar})` }}></div>\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__title\">{currentUser.name}</h1>\r\n                    <button className=\"profile__edit-button\" type=\"button\" onClick={onEditProfile}></button>\r\n                    <p className=\"profile__subtitle\">{currentUser.about}</p>\r\n                </div>\r\n                <button className=\"profile__add-button\" type=\"button\" onClick={onAddPlace}></button>\r\n            </section>\r\n            <section className=\"elements\">\r\n                <ul className=\"elements__item\">\r\n                    {cards.map((props) => (\r\n                        <Card \r\n                            key={props._id}\r\n                            _id={props._id}\r\n                            owner={props.owner}\r\n                            link={props.link}\r\n                            name={props.name}\r\n                            likes={props.likes}\r\n                            onCardClick={onCardClick}\r\n                            onCardLike={onCardLike}\r\n                            onCardDelete={onCardDelete}\r\n                        />\r\n                    ))}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","import React from 'react';\r\n\r\nfunction Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyright\">&copy; 2021. Сергей Цепилов</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\nfunction ImagePopup({ card, isOpen, onClose }) {\r\n    return (\r\n        <div className={`popup popup-image ${isOpen ? 'popup_opened' : false}`}>\r\n            <div className=\"popup__container-image\">\r\n                <button className=\"popup__close-button\" type=\"button\" onClick={onClose}></button>\r\n                <img className=\"popup__fulled-image\" src={card.link} alt={card.title} />\r\n                <h3 className=\"popup__title-image\">{card.title}</h3>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n    constructor(options) {\r\n        this._baseUrl = options.baseUrl;\r\n        this._headers = options.headers;\r\n    }\r\n\r\n    _getResponseData(res) {\r\n        if (res.ok) {\r\n            return res.json();\r\n        }\r\n\r\n        return Promise.reject(`Ошибка: ${res.status}`);\r\n    }\r\n\r\n    editProfile({ name, about }) {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                about: about\r\n            })\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    addNewCard({ name, link }) {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'POST',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: name,\r\n                link: link\r\n            })\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    editAvatar({ avatar }) {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n            method: 'PATCH',\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                avatar: avatar\r\n            })\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    deleteCard(cardId) {\r\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n            method: 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    deleteLike(cardId, isLiked) {\r\n        return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n            method: isLiked ? 'PUT' : 'DELETE',\r\n            headers: this._headers\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    getInitialCards() {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n    getUserInfo() {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: 'GET',\r\n            headers: this._headers\r\n        })\r\n        .then(res => {\r\n            return this._getResponseData(res);\r\n        });\r\n    }\r\n\r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-19',\r\n    headers: {\r\n        authorization: '54bcf370-1275-4b3b-905f-be3c184c4a5c',\r\n        'Content-Type': 'application/json'\r\n    }\r\n});\r\n\r\nexport default api;\r\n","export const BASE_URL = \"https://auth.nomoreparties.co\";\r\n\r\nconst checkResponse = (res) => (res.ok ? res.json() : Promise.reject(`Ошибка: ${res.status}`));\r\n\r\nexport const register = (email, password) =>\r\n    fetch(`${BASE_URL}/signup`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Accept\": \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ \r\n            email, \r\n            password \r\n        })\r\n    })\r\n    .then(checkResponse)\r\n\r\nexport const login = (email, password) =>\r\n    fetch(`${BASE_URL}/signin`, {\r\n        method: \"POST\",\r\n        headers: {\r\n            \"Accept\": \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n        },\r\n        body: JSON.stringify({ \r\n            email, \r\n            password \r\n        })\r\n  })\r\n  .then(checkResponse)\r\n\r\nexport const checkToken = (token) =>\r\n    fetch(`${BASE_URL}/users/me`, {\r\n        method: \"GET\",\r\n        headers: {\r\n            \"Accept\": \"application/json\",\r\n            \"Content-Type\": \"application/json\",\r\n            \"Authorization\": `Bearer ${token}`\r\n    },\r\n  })\r\n  .then(checkResponse);\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm({ name, title, buttonTitle, children, isOpen, onClose, onSubmit }) {\r\n    return (\r\n        <div className={`popup popup-${name} ${isOpen ? 'popup_opened' : false}`}>\r\n            <div className=\"popup__container\">\r\n                <button className=\"popup__close-button\" type=\"button\" onClick={onClose}></button>\r\n                <h3 className=\"popup__title\">{title}</h3>\r\n                <form className={`popup__form popup__form-${name}`} name=\"formEdit\" onSubmit={onSubmit} noValidate>\r\n                    {children}\r\n                    <button className=\"popup__button\" type=\"submit\">\r\n                        {buttonTitle}\r\n                    </button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading }) {\r\n    const [name, setName] = React.useState('');\r\n    const [description, setDescription] = React.useState('');\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n    const submitButton = isLoading ? 'Сохранение...' : 'Сохранить';\r\n\r\n    function handleNameChange(event) {\r\n        setName(event.target.value);\r\n    }\r\n\r\n    function handleDescriptionChange(event) {\r\n        setDescription(event.target.value);\r\n    }\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        onUpdateUser({\r\n            name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, isOpen]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name={'edit'}\r\n            title={'Редактировать профиль'}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            buttonTitle={submitButton}\r\n        >\r\n            <input value={name || ''} onChange={handleNameChange} className=\"popup__input popup__input_type_name\" name=\"popupName\" type=\"text\" id=\"name\" autoComplete=\"off\" placeholder=\"Имя\" minLength=\"2\" maxLength=\"40\" required />\r\n            <span id=\"name-error\"></span>\r\n            <input value={description || ''} onChange={handleDescriptionChange} className=\"popup__input popup__input_type_description\" name=\"popupDescription\" type=\"text\" id=\"description\" autoComplete=\"off\" placeholder=\"О себе\" minLength=\"2\" maxLength=\"200\" required />\r\n            <span id=\"description-error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm.js';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading }) {\r\n    const [name, setName] = React.useState('');\r\n    const [link, setLink] = React.useState('');\r\n    const submitButton = isLoading ? 'Сохранение...' : 'Создать';\r\n\r\n    React.useEffect(() => {\r\n        setName('');\r\n        setLink('');\r\n    }, [isOpen]);\r\n\r\n    function handleNameChange(event) {\r\n        setName(event.target.value);\r\n    }\r\n\r\n    function handleLinkChange(event) {\r\n        setLink(event.target.value);\r\n    }\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        onAddPlace({ name, link });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name={'add'}\r\n            title={'Новое место'}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            buttonTitle={submitButton}\r\n        >\r\n            <input value={name || ''} onChange={handleNameChange} className=\"popup__input popup__input_type_title\" name=\"popupTitle\" type=\"text\" id=\"title\" autoComplete=\"off\" placeholder=\"Название\" minLength=\"2\" maxLength=\"30\" required />\r\n            <span id=\"title-error\"></span>\r\n            <input value={link || ''} onChange={handleLinkChange} className=\"popup__input popup__input_type_link\" name=\"popupLink\" type=\"url\" id=\"link\" autoComplete=\"off\" placeholder=\"Ссылка на картинку\" required />\r\n            <span id=\"link-error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\r\n    const avatarRef = React.useRef();\r\n    const submitButton = isLoading ? 'Сохранение...' : 'Обновить';\r\n\r\n    React.useEffect(() => {\r\n        avatarRef.current.value = '';\r\n    }, [isOpen]);\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        onUpdateAvatar({\r\n            avatar: avatarRef.current.value,\r\n        });\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name={'avatar'}\r\n            title={'Обновить аватар'}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            buttonTitle={submitButton}\r\n        >\r\n            <input ref={avatarRef} className=\"popup__input popup__input_type_link\" name=\"popupAvatar\" type=\"url\" id=\"avatar\" autoComplete=\"off\" placeholder=\"Ссылка на картинку\" required />\r\n            <span id=\"avatar-error\"></span>\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeleteCardPopup({ card, isOpen, onClose, onCardDelete, isLoading }) {\r\n    const submitButton = isLoading ? 'Удаление...' : 'Да';\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n\r\n        onCardDelete(card);\r\n    }\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name={'confirm'}\r\n            title={'Вы уверены?'}\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            buttonTitle={submitButton}\r\n        >\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default DeleteCardPopup;\r\n","import React from 'react';\r\n\r\nfunction PopupClose(props) {\r\n    const { children, ...rest } = props;\r\n\r\n    React.useEffect(() => {\r\n        function pushKey(event) {\r\n            if (event.key === \"Escape\") {\r\n                children.props.onClose();\r\n            }\r\n        }\r\n\r\n        function closeOverlay(event) {\r\n            if (event.target.classList.contains('popup_opened')) {\r\n                children.props.onClose();\r\n            }\r\n        }\r\n\r\n        document.addEventListener('click', closeOverlay);\r\n        document.addEventListener('keydown', pushKey);\r\n\r\n        return () => {\r\n            document.removeEventListener('click', closeOverlay);\r\n            document.removeEventListener('keydown', pushKey);\r\n        }\r\n    }, [children]);\r\n\r\n    return <> {React.cloneElement(children, { ...rest })} </>\r\n}\r\n\r\nexport default PopupClose;\r\n","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n    return (\r\n        <Route>\r\n            {\r\n                () => props.loggedId ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\r\n            }\r\n        </Route>\r\n    );\r\n}\r\n\r\nexport default ProtectedRoute;\r\n","import React from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction Register({ handleRegister }) {\r\n    const [email, setEmail] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n\r\n    function handleChange(event) {\r\n        if (event.target.name === 'Email') {\r\n            setEmail(event.target.value);\r\n        } else if (event.target.name === 'Password') {\r\n            setPassword(event.target.value);\r\n        }\r\n    }\r\n\r\n    function resetForm() {\r\n        setEmail('');\r\n        setPassword('');\r\n    }\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n        if (!email || !password) {\r\n            console.log('Не введен email или пароль');\r\n            return;\r\n        }\r\n        handleRegister(email, password);\r\n        resetForm()\r\n    }\r\n\r\n    return (\r\n        <section className=\"sign\">\r\n            <h3 className=\"sign__title\">Регистрация</h3>\r\n            <form className=\"sign__form\" name=\"formSign\" onSubmit={handleSubmit} noValidate>\r\n                <input value={email} onChange={handleChange} className=\"sign__input\" name=\"Email\" type=\"email\" autoComplete=\"off\" placeholder=\"Email\" required />\r\n                <input value={password} onChange={handleChange} className=\"sign__input\" name=\"Password\" type=\"password\" autoComplete=\"off\" placeholder=\"Пароль\" required />\r\n                <button className=\"sign__button\" type=\"submit\">\r\n                    Зарегистрироваться\r\n                </button>\r\n            </form>\r\n            <p className=\"sign__text\">\r\n                Уже зарегистрированы?{\" \"}\r\n                <Link to=\"/sign-in\" className=\"sign__link\">\r\n                    Войти\r\n                </Link>\r\n            </p>\r\n        </section>\r\n    );\r\n}\r\n\r\nexport default Register;\r\n","import React from 'react';\r\n\r\nfunction Login({ handleLogin }) {\r\n    const [email, setEmail] = React.useState('');\r\n    const [password, setPassword] = React.useState('');\r\n\r\n    function handleChange(event) {\r\n        if (event.target.name === 'Email') {\r\n            setEmail(event.target.value);\r\n        } else if (event.target.name === 'Password') {\r\n            setPassword(event.target.value);\r\n        }\r\n    }\r\n\r\n    function resetForm() {\r\n        setEmail('');\r\n        setPassword('');\r\n    }\r\n\r\n    function handleSubmit(event) {\r\n        event.preventDefault();\r\n        if (!email || !password) {\r\n            console.log('Не введен email или пароль');\r\n            return;\r\n        }\r\n        handleLogin(email, password);\r\n        resetForm()\r\n    }\r\n\r\n    return (\r\n        <section className=\"sign\">\r\n            <h3 className=\"sign__title\">Вход</h3>\r\n            <form className=\"sign__form\" name=\"formSign\" onSubmit={handleSubmit} noValidate>\r\n                <input value={email} onChange={handleChange} className=\"sign__input\" name=\"Email\" type=\"email\" autoComplete=\"off\" placeholder=\"Email\" required />\r\n                <input value={password} onChange={handleChange} className=\"sign__input\" name=\"Password\" type=\"password\" autoComplete=\"off\" placeholder=\"Пароль\" required />\r\n                <button className=\"sign__button\" type=\"submit\">\r\n                    Войти\r\n                </button>\r\n            </form>\r\n        </section>\r\n    )\r\n}\r\n\r\nexport default Login;\r\n","import React from 'react';\r\n\r\nfunction InfoTooltip({ isOpen, onClose, title, icon }) {\r\n    return (\r\n        <div className={`popup popup-tool ${isOpen ? 'popup_opened' : false}`}>\r\n            <div className=\"popup__container\">\r\n                <button className=\"popup__close-button\" type=\"button\" onClick={onClose}></button>\r\n                <img className=\"popup__tool-logo\" src={icon} alt=\"Лого статус\" />\r\n                <h3 className=\"popup__title popup__title_small\">{title}</h3>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default InfoTooltip;\r\n","export default __webpack_public_path__ + \"static/media/check.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/error.df8eddf6.svg\";","import React from 'react';\nimport { Route, Switch, Redirect, useHistory } from 'react-router-dom';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport ImagePopup from './ImagePopup.js';\nimport api from '../utils/api.js';\nimport * as auth from '../utils/auth.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport AddPlacePopup from './AddPlacePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport DeleteCardPopup from './DeleteCardPopup';\nimport PopupClose from './PopupClose.js';\nimport ProtectedRoute from './ProtectedRoute.js';\nimport Register from './Register.js';\nimport Login from './Login.js';\nimport InfoTooltip from './InfoTooltip.js';\nimport checkLogo from '../images/check.svg';\nimport errorLogo from '../images/error.svg';\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [currentUser, setCurrentUser] = React.useState({});\n  const [cards, setCards] = React.useState([]);\n  const [isLoading, setLoading] = React.useState(false);\n  const [isDeleteCardPopupOpen, setDeleteCardPopupOpen] = React.useState(false);\n  const [cardDelete, setCardDelete] = React.useState({});\n  const history = useHistory();\n  const [isInfoTooltipOpen, setInfoTooltipOpen] = React.useState(false);\n  const [loggedId, setLoggedId] = React.useState(false);\n  const [userData, setUserData] = React.useState(\"\");\n  const [dataInfoTool, setDataInfoTool] = React.useState({\n    title: \"\",\n    icon: \"\"\n  });\n\n  function handleEditProfileClick() {\n    setEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setAddPlacePopupOpen(true);\n  }\n\n  function handleEditAvatarClick() {\n    setEditAvatarPopupOpen(true);\n  }\n\n  function handleInfoTooltipClick() {\n    setInfoTooltipOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard({ \n      isOpen: true, \n      link: card.link, \n      title: card.name, \n    });\n  }\n  \n  function handleDeleteCardClick(card) {\n    setDeleteCardPopupOpen(true);\n    setCardDelete(card);\n  }\n\n  function handleRegister(email, password) {\n    auth.register(email, password)\n      .then((data) => {\n        history.push(\"/sign-in\");\n        console.log(data);\n        setDataInfoTool({ title: \"Вы успешно зарегистрировались!\", icon: checkLogo });\n        handleInfoTooltipClick();\n      })\n      .catch((error) => {\n        console.error(error);\n        setDataInfoTool({ title: \"Что-то пошло не так! Попробуйте ещё раз.\", icon: errorLogo });\n        handleInfoTooltipClick();\n      })\n  }\n\n  function handleLogin(email, password) {\n    console.log(email, password);\n    auth.login(email, password)\n      .then((data) => {\n        auth.checkToken(data.token)\n          .then((res) => {\n            setUserData(res.data.email);\n          })\n          .catch((error) => {\n            console.error(error);\n            setDataInfoTool({ title: \"Что-то пошло не так! Попробуйте ещё раз.\", icon: errorLogo });\n            handleInfoTooltipClick();\n          })\n          localStorage.setItem(\"token\", data.token);\n          setLoggedId(true);\n          history.push(\"/\");\n      })\n      .catch((error) => {\n        console.error(error);\n        setDataInfoTool({ title: \"Что-то пошло не так! Попробуйте ещё раз.\", icon: errorLogo });\n        handleInfoTooltipClick();\n      })\n  }\n\n  function handleCheckToken() {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      auth.checkToken(token)\n        .then((res) => {\n          if (res) {\n            setLoggedId(true);\n            setUserData(res.data.email);\n            history.push(\"/\");\n          } else {\n            setDataInfoTool({ title: \"Что-то пошло не так! Попробуйте ещё раз.\", icon: errorLogo });\n            handleInfoTooltipClick();\n          }\n        })\n        .catch((error) => {\n          console.log(error);\n        })\n    }\n  }\n\n  React.useEffect(() => {\n    handleCheckToken();\n  });\n\n  function closeAllPopups() {\n    setEditProfilePopupOpen(false);\n    setAddPlacePopupOpen(false);\n    setEditAvatarPopupOpen(false);\n    setSelectedCard({ isOpen: false });\n    setLoading(false);\n    setDeleteCardPopupOpen(false);\n    setInfoTooltipOpen(false);\n  }\n\n  function handleUpdateUser({ name, about }) {\n    setLoading(true);\n    api.editProfile({ name, about })\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  function handleAddPlaceSubmit({ name, link }) {\n    setLoading(true);\n    api.addNewCard({ name, link })\n      .then((newCard) => {\n        setCards([newCard, ...cards]);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    setLoading(true);\n    api.editAvatar({ avatar })\n      .then((result) => {\n        setCurrentUser(result);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  function handleCardDelete(card) {\n    setLoading(true);\n    api.deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n        closeAllPopups();\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api.deleteLike(card._id, !isLiked)\n      .then((newCard) => {\n        const newCards = cards.map((c) => (c._id === card._id ? newCard : c));\n        setCards(newCards);\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }\n\n  function signOut() {\n    setLoggedId(false);\n    setUserData(\"\");\n    localStorage.removeItem(\"token\");\n    history.push(\"/sign-in\");\n  }\n\n  React.useEffect(() => {\n    const promises = [api.getUserInfo(), api.getInitialCards()];\n\n    Promise.all(promises)\n      .then(([user, cards]) => {\n        setCurrentUser(user);\n        setCards(cards);\n      })\n      .catch((error) => {\n        console.log(error);\n      })\n  }, []);\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"App\">\n\n        <Header \n          headerMail={userData} \n          signOut={signOut} \n        />\n\n        <Switch>\n          <ProtectedRoute\n            exact path='/'\n            loggedId={loggedId}\n            component={Main}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onEditAvatar={handleEditAvatarClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleDeleteCardClick}\n          />\n\n          <Route path=\"/sign-up\">\n            <Register handleRegister={handleRegister} />\n          </Route>\n\n          <Route path=\"/sign-in\">\n            <Login handleLogin={handleLogin} />\n          </Route>\n\n          <Route exact path=\"/\">\n            {loggedId ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n\n        <EditProfilePopup \n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          isLoading={isLoading}\n        />\n\n        <AddPlacePopup \n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          isLoading={isLoading}\n        />\n\n        <EditAvatarPopup \n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n\n        <DeleteCardPopup \n          card={cardDelete}\n          isOpen={isDeleteCardPopupOpen}\n          onClose={closeAllPopups}\n          onCardDelete={handleCardDelete}\n          isLoading={isLoading}\n        />\n\n        <InfoTooltip \n          isOpen={isInfoTooltipOpen}\n          onClose={closeAllPopups}\n          title={dataInfoTool.title}\n          icon={dataInfoTool.icon}\n        />\n\n        <PopupClose>\n          <ImagePopup \n            card={selectedCard}\n            isOpen={selectedCard.isOpen}\n            onClose={closeAllPopups} \n          />\n        </PopupClose>\n\n        <Footer />\n      \n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport './index.css';\nimport App from './components/App.js';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}